{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef, useState, useEffect, useCallback } from 'react';\nimport { setDate, setHours, setMinutes, setSeconds } from 'date-fns';\n\nconst useTimer = () => {\n  _s();\n\n  const timerRef = useRef(0);\n  const intervalRef = useRef();\n  const [day, setDay] = useState(0);\n  const [hour, setHour] = useState(0);\n  const [minute, setMinute] = useState(0);\n  const [second, setSecond] = useState(0);\n  const updateTimeValues = useCallback(difference => {\n    var d = Math.floor(difference / (1000 * 60 * 60 * 24));\n    var h = Math.floor(difference / (1000 * 60 * 60) % 24);\n    var m = Math.floor(difference / 1000 / 60 % 60);\n    var s = Math.floor(difference / 1000 % 60);\n    setDay(d);\n    setHour(h);\n    setMinute(m);\n    setSecond(s);\n  }, []);\n  const calculateEndTime = useCallback(() => {\n    const date = new Date();\n    let baseDate = new Date('04/25/2022');\n    let difference = +new Date(`04/25/2022`) - +new Date();\n    baseDate = setDate(date, 0);\n    baseDate = setHours(baseDate, 0);\n    baseDate = setMinutes(baseDate, 0);\n    baseDate = setSeconds(baseDate, 0);\n    timerRef.current = difference;\n  }, []);\n  const run = useCallback(() => {\n    decreaseNum();\n    intervalRef.current = setInterval(decreaseNum, 1000); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const decreaseNum = useCallback(() => {\n    if (timerRef.current >= 0) {\n      updateTimeValues(timerRef.current);\n      timerRef.current = timerRef.current - 1;\n    } else {\n      clearInterval(intervalRef.current);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(() => {\n    calculateEndTime();\n    run();\n    return () => clearInterval(intervalRef.current); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return {\n    day,\n    hour,\n    minute,\n    second\n  };\n};\n\n_s(useTimer, \"D8ACAf6DLgamN7OYDJzJgqzHIxo=\");\n\nexport default useTimer;","map":{"version":3,"sources":["/Users/lindsayj/Documents/dev/simplecountdown/src/hooks/useTimer.ts"],"names":["useRef","useState","useEffect","useCallback","setDate","setHours","setMinutes","setSeconds","useTimer","timerRef","intervalRef","day","setDay","hour","setHour","minute","setMinute","second","setSecond","updateTimeValues","difference","d","Math","floor","h","m","s","calculateEndTime","date","Date","baseDate","current","run","decreaseNum","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import {\n  useRef,\n  useState,\n  useEffect,\n  useCallback,\n} from 'react';\n\nimport {\n  setDate,\n  setHours,\n  setMinutes,\n  setSeconds,\n  differenceInSeconds,\n} from 'date-fns';\n\nconst useTimer = () => {\n  const timerRef = useRef(0);\n  const intervalRef = useRef<any>();\n\n  const [day, setDay] = useState(0);\n  const [hour, setHour] = useState(0);\n  const [minute, setMinute] = useState(0);\n  const [second, setSecond] = useState(0);\n\n  const updateTimeValues = useCallback((difference: number) => {\n    var d = Math.floor(difference / (1000 * 60 * 60 * 24));\n    var h = Math.floor((difference / (1000 * 60 * 60)) % 24);\n    var m = Math.floor((difference / 1000 / 60) % 60);\n    var s = Math.floor((difference / 1000) % 60);\n\n    setDay(d);\n    setHour(h);\n    setMinute(m);\n    setSecond(s);\n  }, []);\n\n  const calculateEndTime = useCallback(() => {\n    const date = new Date();\n    let baseDate = new Date('04/25/2022');\n    let difference = +new Date(`04/25/2022`) - +new Date();\n    baseDate = setDate(date, 0);\n    baseDate = setHours(baseDate, 0);\n    baseDate = setMinutes(baseDate, 0);\n    baseDate = setSeconds(baseDate, 0);\n\n    timerRef.current = difference;\n  \n  }, []);\n\n  const run = useCallback(() => {\n    decreaseNum();\n    intervalRef.current = setInterval(decreaseNum, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const decreaseNum = useCallback(() => {\n    if (timerRef.current >= 0) {\n      updateTimeValues(timerRef.current);\n      timerRef.current = timerRef.current - 1;\n    } else {\n      clearInterval(intervalRef.current);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    calculateEndTime();\n    run();\n    return () => clearInterval(intervalRef.current);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return {\n    day,\n    hour,\n    minute,\n    second,\n  };\n};\n\nexport default useTimer;\n"]},"metadata":{},"sourceType":"module"}